package com.javamailsendereshop.javamailsendereshop;
import com.javamailsendereshop.javamailsendereshop.service.EmailService;
import java.util.Map;
@RestController
public class MailDispatcherController {

    @Autowired
    private EmailService emailService;

    @PostMapping("/enviar-desde-render")
    public ResponseEntity<String> despachar(@RequestBody Map<String, String> datos) {
        // Render te mandar√° el email, el estado y el producto
        emailService.enviarNotificacion(
            datos.get("email"), 
            datos.get("estado"), 
            datos.get("producto")
        );
        return ResponseEntity.ok("Correo disparado desde Termux");
    }
}
